import{d as I,g as M,s as S,r as p,n as U,j as e,i as D,l as L,c as z,P as B,B as m,T as C,v as E}from"./index-6Q5BBa13.js";import{u as P}from"./index-DyFyNzA_.js";import{g as N}from"./functions-DNt9xg20.js";import{C as b}from"./Card-DpfUiQks.js";import{T as O}from"./TextField-Bx4eTY9B.js";import{S as A}from"./Slider-CQk5sXS0.js";import"./index-CI8KZmrN.js";import"./index-Chjiymov.js";import"./Select-hg-X6RsY.js";import"./useFormControl-Pk0IoeSm.js";import"./isMuiElement-CQmao4ut.js";function T(s){return M("MuiCardContent",s)}I("MuiCardContent",["root"]);const K=s=>{const{classes:a}=s;return L({root:["root"]},T,a)},F=S("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(s,a)=>a.root})({padding:16,"&:last-child":{paddingBottom:24}}),R=p.forwardRef(function(a,d){const i=U({props:a,name:"MuiCardContent"}),{className:r,component:l="div",...o}=i,c={...i,component:l},x=K(c);return e.jsx(F,{as:l,className:D(x.root,r),ownerState:c,ref:d,...o})});function W(s){return M("MuiCardMedia",s)}I("MuiCardMedia",["root","media","img"]);const G=s=>{const{classes:a,isMediaComponent:d,isImageComponent:i}=s;return L({root:["root",d&&"media",i&&"img"]},W,a)},H=S("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(s,a)=>{const{ownerState:d}=s,{isMediaComponent:i,isImageComponent:r}=d;return[a.root,i&&a.media,r&&a.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),_=["video","audio","picture","iframe","img"],$=["picture","img"],w=p.forwardRef(function(a,d){const i=U({props:a,name:"MuiCardMedia"}),{children:r,className:l,component:o="div",image:c,src:x,style:h,...j}=i,g=_.includes(o),n=!g&&c?{backgroundImage:`url("${c}")`,...h}:h,t={...i,component:o,isMediaComponent:g,isImageComponent:$.includes(o)},u=G(t);return e.jsx(H,{className:D(u.root,l),as:o,role:!g&&c?"img":void 0,ref:d,style:n,ownerState:t,src:g?c||x:void 0,...j,children:r})}),V=z(e.jsx("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1"}),"AddRounded"),q=z([e.jsx("path",{d:"M5.7 6.71c-.39.39-.39 1.02 0 1.41L9.58 12 5.7 15.88c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L7.12 6.71c-.39-.39-1.03-.39-1.42 0"},"0"),e.jsx("path",{d:"M12.29 6.71c-.39.39-.39 1.02 0 1.41L16.17 12l-3.88 3.88c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L13.7 6.7c-.38-.38-1.02-.38-1.41.01"},"1")],"KeyboardDoubleArrowRightRounded");function re(){const[s,a]=p.useState(null),[d,i]=p.useState(null),[r,l]=p.useState(null),[o,c]=p.useState(90),x=n=>{if(n.length>0){const t=n[0];a(t),i(URL.createObjectURL(t)),l(URL.createObjectURL(t))}};p.useEffect(()=>{s&&o!==""&&o!==null&&o!==void 0&&g(s)},[s,o]);const{getRootProps:h,getInputProps:j}=P({onDrop:x,accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/gif":[".gif"],"image/webp":[".webp"]},multiple:!1}),g=n=>{if(n){const t=new Image;t.src=URL.createObjectURL(n),t.onload=()=>{const u=document.createElement("canvas"),f=u.getContext("2d");if(f){const y=t.width*o/100,v=t.height*o/100;u.width=y,u.height=v,f.drawImage(t,0,0,y,v);const k=u.toDataURL("image/jpeg",.8);l(k)}}}};return e.jsxs(B,{elevation:4,sx:{borderRadius:2,p:3,boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease-in-out",":hover":{boxShadow:"0px 6px 16px rgba(0, 0, 0, 0.2)"}},children:[e.jsxs(m,{sx:{p:3,display:"flex",flexDirection:"column",alignItems:"center",gap:3,border:"1px dashed",borderColor:"grey.400",borderRadius:2,cursor:"pointer"},...h(),children:[e.jsx("input",{...j()}),e.jsxs(m,{sx:{display:"flex",alignItems:"center",columnGap:2},children:[e.jsx(V,{}),e.jsx(C,{variant:"h6",color:"textSecondary",children:"Drag & Drop an image here or click to upload"})]})]}),e.jsxs(m,{sx:{my:2,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[s&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{sx:{display:"flex",alignItems:"center"},children:[e.jsxs(b,{sx:{maxWidth:400,boxShadow:2},children:[e.jsx(w,{component:"img",height:"auto",width:"400",image:d,alt:"Uploaded Image"}),e.jsx(R,{sx:{display:"flex",justifyContent:"center"},children:e.jsxs(C,{variant:"body2",color:"textSecondary",children:[s.name," (",(s.size/1024).toFixed(2)," KB)"]})})]}),e.jsx(m,{sx:{p:2},children:e.jsx(q,{})}),e.jsxs(b,{sx:{maxWidth:400,boxShadow:2},children:[e.jsx(w,{component:"img",height:"auto",width:"400",image:r,alt:"Uploaded Image"}),e.jsx(R,{sx:{display:"flex",justifyContent:"center"},children:e.jsxs(C,{variant:"body2",color:"textSecondary",children:["compressed-image (",N(r)," KB)"]})})]})]}),e.jsxs(m,{width:300,sx:{py:2},children:[e.jsxs(m,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(C,{gutterBottom:!0,children:"Resize Percentage:"}),e.jsx(O,{size:"small",value:o,onChange:n=>{let t=n.target.value;(+t<201&&+t>0||t=="")&&c(t)},type:"number",sx:{width:"100px"}})]}),e.jsx(A,{value:o,onChange:(n,t)=>c(t),min:10,max:200,step:5,valueLabelDisplay:"auto"})]})]}),r&&e.jsx(E,{variant:"contained",color:"success",onClick:()=>{const n=document.createElement("a");n.href=r,n.download="compressed-image.jpg",n.click()},disabled:!r||o==""||o==null,children:"Download Compressed Image"})]})]})}export{re as default};
